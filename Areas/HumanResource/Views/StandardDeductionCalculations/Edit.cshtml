@model IEnumerable<dynamic>

<div style="position:relative;float:right">
    <input type="checkbox" id="selectAllw" />Select All
</div>
<table class="table table-bordered table-striped " id="calculator">

    <tbody>
        @foreach (var item in Model)
        {
            <tr class="calculate_on">
                <td>
                    <input type="hidden" value="@item.AllowanceID" name="allowance[@item.AllowanceID].allowanceid">
                    @item.Allowance
                </td>
                <td>
                    @if (item.ID == 0 ) {
                        <input type="checkbox" name="allowance[@item.AllowanceID].selected">
                    } else {
                        <input type="checkbox" name="allowance[@item.AllowanceID].selected" checked>
                    }
                </td>
            </tr>
        }
    </tbody>
</table>
<script>
    $("#selectAllw").on('change', function () {

        var isChecked = $(this).prop('checked');

        $("#calculator").find('tr').each(function (index) {
            $(this).find('td').eq(1).find('input[type = "checkbox"]').prop('checked', isChecked);
        });
    });
</script>
